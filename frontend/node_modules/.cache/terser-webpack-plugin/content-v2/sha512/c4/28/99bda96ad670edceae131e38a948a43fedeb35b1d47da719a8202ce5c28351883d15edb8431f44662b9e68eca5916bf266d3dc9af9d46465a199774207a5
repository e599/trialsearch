{"code":"(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{418:function(t,n,e){\"use strict\";e.r(n);e(144);var r=e(135),o=e.n(r),u=e(1),a=e.n(u),i=e(421),c=e(43),s=e(26);function l(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,o=!1,u=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,u=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw u}}return e}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}function f(t,n,e){var r=l(Object(u.useState)(),2),o=r[0],a=r[1],i=l(Object(u.useState)(),2),c=i[0],s=i[1];return Object(u.useEffect)(function(){(function(t){return new Promise(function(n){if(window.google)n(google);else{var e=document.createElement(\"script\");e.src=\"https://maps.googleapis.com/maps/api/js?key=\".concat(t),e.onload=function(){return n(google)},document.body.appendChild(e)}})})(t).then(function(t){return a(t)})},[t]),Object(u.useEffect)(function(){o&&n.current&&s(new google.maps.Map(n.current,e))},[o,n]),c}var p=e(423),h=e(15),d=e(96);function y(t,n,e){return function(){if(0===arguments.length)return e();var r=Array.prototype.slice.call(arguments,0),o=r.pop();if(!Object(d.a)(o)){for(var u=0;u<t.length;){if(\"function\"==typeof o[t[u]])return o[t[u]].apply(o,r);u+=1}if(function(t){return null!=t&&\"function\"==typeof t[\"@@transducer/step\"]}(o))return n.apply(null,r)(o)}return e.apply(this,arguments)}}var b=e(145),g=function(){return this.xf[\"@@transducer/init\"]()},v=function(t){return this.xf[\"@@transducer/result\"](t)},m=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype[\"@@transducer/init\"]=g,t.prototype[\"@@transducer/result\"]=v,t.prototype[\"@@transducer/step\"]=function(t,n){return this.xf[\"@@transducer/step\"](t,this.f(n))},t}(),j=Object(h.a)(function(t,n){return new m(t,n)}),O=e(93),w=e(10),x=e(11);function E(t,n,e){return function(){for(var r=[],o=0,u=t,a=0;a<n.length||o<arguments.length;){var i;a<n.length&&(!Object(x.a)(n[a])||o>=arguments.length)?i=n[a]:(i=arguments[o],o+=1),r[a]=i,Object(x.a)(i)||(u-=1),a+=1}return u<=0?e.apply(this,r):Object(O.a)(u,E(t,r,e))}}var S=Object(h.a)(function(t,n){return 1===t?Object(w.a)(n):Object(O.a)(t,E(t,[],n))}),k=e(139),A=Object(h.a)(y([\"fantasy-land/map\",\"map\"],j,function(t,n){switch(Object.prototype.toString.call(n)){case\"[object Function]\":return S(n.length,function(){return t.call(this,n.apply(this,arguments))});case\"[object Object]\":return Object(b.a)(function(e,r){return e[r]=t(n[r]),e},{},Object(k.a)(n));default:return function(t,n){for(var e=0,r=n.length,o=Array(r);e<r;)o[e]=t(n[e]),e+=1;return o}(t,n)}})),C=e(422),L=Object(h.a)(function t(n,e){var r,o,u,a=e instanceof Array?[]:{};for(o in e)u=typeof(r=n[o]),a[o]=\"function\"===u?r(e[o]):r&&\"object\"===u?t(r,e[o]):e[o];return a}),F=e(52),J=function(){function t(t,n,e,r){this.valueFn=t,this.valueAcc=n,this.keyFn=e,this.xf=r,this.inputs={}}return t.prototype[\"@@transducer/init\"]=g,t.prototype[\"@@transducer/result\"]=function(t){var n;for(n in this.inputs)if(Object(F.a)(n,this.inputs)&&(t=this.xf[\"@@transducer/step\"](t,this.inputs[n]))[\"@@transducer/reduced\"]){t=t[\"@@transducer/value\"];break}return this.inputs=null,this.xf[\"@@transducer/result\"](t)},t.prototype[\"@@transducer/step\"]=function(t,n){var e=this.keyFn(n);return this.inputs[e]=this.inputs[e]||[e,this.valueAcc],this.inputs[e][1]=this.valueFn(this.inputs[e][1],n),t},t}(),N=E(4,[],y([],E(4,[],function(t,n,e,r){return new J(t,n,e,r)}),function(t,n,e,r){return Object(b.a)(function(r,o){var u=e(o);return r[u]=t(Object(F.a)(u,r)?r[u]:n,o),r},{},r)}))(function(t,n){return t+1},0),T=e(57),I=function(t){return Number(t.toFixed(6))},M=function(t){var n=t.gmap,e=Object(u.useContext)(c.a),r=T.d.read(T.a,e.get()),o=Object(u.useRef)();return Object(u.useEffect)(function(){if(n){var t=[],e=[],u=Object(p.a)(A(Object(C.a)([],\"locations\"),r.results)).map(L({latitude:I,longitude:I})),a=N(JSON.stringify,u);console.log(a);var i=Object.keys(a).map(function(t){return JSON.parse(t)}),c=!0,s=!1,l=void 0;try{for(var f,h=function(){var r=f.value,u=r.latitude,i=r.longitude;if(!u||!i)return\"continue\";var c=a[JSON.stringify(r)],s=new google.maps.InfoWindow({content:\"There \".concat(1===c?\"is\":\"are\",\" \").concat(c).concat(1===c?\"trial\":\"+ trials\",\" at this location\")}),l=new google.maps.Marker({position:new google.maps.LatLng(u,i),map:n});l.addListener(\"click\",function(){o&&o.current&&o.current.close(),s.open(n,l),o.current=s}),e.push(s),t.push(l)},d=i[Symbol.iterator]();!(c=(f=d.next()).done);c=!0)h()}catch(t){s=!0,l=t}finally{try{c||null==d.return||d.return()}finally{if(s)throw l}}return function(){o&&o.current&&o.current.close(),t.forEach(function(t){return t.setMap(null)})}}},[n,r.results]),null};function _(t,n){return function(t){if(Array.isArray(t))return t}(t)||function(t,n){var e=[],r=!0,o=!1,u=void 0;try{for(var a,i=t[Symbol.iterator]();!(r=(a=i.next()).done)&&(e.push(a.value),!n||e.length!==n);r=!0);}catch(t){o=!0,u=t}finally{try{r||null==i.return||i.return()}finally{if(o)throw u}}return e}(t,n)||function(){throw new TypeError(\"Invalid attempt to destructure non-iterable instance\")}()}e.d(n,\"Map\",function(){return R});var R=function(t){var n=t.apiKey,e=t.initialZoom,r=t.initialLat,l=t.initalLng,p=t.children,h=Object(u.useRef)(null),d=f(n,h,{center:{lat:r,lng:l},zoom:e,fullscreenControl:!1,mapTypeControl:!1,streetViewControl:!1}),y=Object(u.useContext)(c.a);Object(u.useEffect)(function(){var t=y.get(),n=t.lat,e=t.lng,r=t.lat_bottom,o=t.lng_right;d&&n&&r&&o&&e&&d.fitBounds({north:n,south:r,east:o,west:e})},[d]);var b=_(Object(u.useState)(),2),g=b[0],v=b[1],m=Object(u.useRef)();Object(u.useEffect)(function(){if(d){var t=d.addListener(\"idle\",function(){var t=d.getBounds();if(t){var n=t.getNorthEast(),e=n.lat,r=n.lng,o=t.getSouthWest(),u=o.lat,a=o.lng,i={top:e(),left:a(),bottom:u(),right:r()};null==m.current&&(m.current=i),v(i)}});return function(){google.maps.event.removeListener(t)}}},[d]);var j=Object(s.d)(!Object(i.a)(m.current,g),null,{from:{position:\"absolute\",bottom:\"16px\",left:\"50%\",transform:\"translate3d(-50%, 80px, 0)\"},enter:{transform:\"translate3d(-50%, 0, 0)\"},leave:{transform:\"translate3d(-50%, 80px, 0)\"},config:s.b.stiff});return a.a.createElement(\"div\",{style:{position:\"relative\",overflow:\"hidden\"}},a.a.createElement(\"div\",{style:{width:\"100%\",height:\"100%\"},id:\"map\",key:\"map\",ref:h},a.a.createElement(u.Suspense,{fallback:null},a.a.createElement(M,{gmap:d}))),j.map(function(t){var n=t.item,e=t.props;return n&&a.a.createElement(s.a.div,{style:e},a.a.createElement(o.a,{shape:\"round\",type:\"primary\",style:e,onClick:function(){g&&(m.current=g,y.put({lat:g.top,lat_bottom:g.bottom,lng:g.left,lng_right:g.right}))}},\"Search In This Area\"))}),p)}}}]);","extractedComments":[]}